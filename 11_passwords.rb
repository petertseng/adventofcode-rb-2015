module Password
  ASCEND = Regexp.union(*(?a..?z).each_cons(3).map(&:join))
end

module Password; refine String do
  def confusing?
    match?(/i|o|l/)
  end

  def ascending?
    match?(ASCEND)
  end

  def two_repeats?
    match?(/(.)\1.*(.)\2/)
  end

  def good?
    two_repeats? && !confusing? && ascending?
  end
end; end

using Password

init_password = (!ARGV.empty? && !File.exist?(ARGV.first) ? ARGV.first : ARGF.read).freeze
password = init_password.dup

2.times {
  password.succ!
  password.succ! until password.good?
  puts password
}
